<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8">
		<title>03. Замыкания (closure) и IIFE</title>
	</head>
	<body>
		<h1>03. Замыкания (closure) и самовызывающиеся функции IIFE</h1>
		<script>
			/* ------------ Замыкание ---------------------- */
			//внешняя функция
			function outer(){
				let x = 5;
				//внутрення функция
				function inner(){
					x += 10;
					console.log(x);
				}				
				return inner;
			}
			/* Функция outer при исполнении возвращает функцию inner. Переменная fn будет хранить ссылку на функцию inner. При этом inner запомнила свое окружение - внешнюю переменную x. Несмотря на то, что переменная x определена вне функции inner, эта функция запомнила свое окружение и может его использовать, несомотря на то, что она вызывается вне функции outer, в которой была определена. В этом суть замыкания.			
			*/
			let fn = outer(); // fn = inner
			fn(); //15
			fn(); //25
			fn(); //35
			
			/* ------------ IIFE ---------------------- */
			(function(flat){
				document.write(`Наше занятие происходит в переговорном помещении: ${flat} `);
			}('Санкт-Петербург'));
			
			
		</script>
	</body>
</html>